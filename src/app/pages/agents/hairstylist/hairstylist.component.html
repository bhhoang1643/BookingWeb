<div class="hairstylist-page">
  <div class="hairstylist-header">
    <div class="category-filter">
      <select [(ngModel)]="selectedShopId" (ngModelChange)="loadStylistsByShop()">
        <option [ngValue]="0">Choose Shop</option>
        <option *ngFor="let shop of shops" [ngValue]="shop.id">{{ shop.location }}</option>
      </select>
    </div>
    <button class="add-button" (click)="openModal()">Add Stylist</button>
  </div>

  <div class="hairstylist-table-container">
    <table class="product-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Specialty</th>
          <th>Experience</th>
          <th>Image</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let h of hairstylists">
          <td>{{ h.name }}</td>
          <td>{{ h.specialty }}</td>
          <td>{{ h.experience }} year</td>
          <td>
            <div class="product-image" *ngIf="h.image">
              <img [src]="h.image" [alt]="h.name" />
            </div>
          </td>
          <td>
            <div class="action-buttons">
              <button class="edit-button" (click)="edit(h)">
                ‚úèÔ∏è
              </button>
              <button class="delete-button" (click)="delete(h.id!)">
                üóëÔ∏è
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>{{ selectedHairstylist ? 'Update Stylist' : 'Add New Stylist' }}</h2>
        <button class="close-button" (click)="closeModal()">√ó</button>
      </div>

      <div class="modal-body">
        <form (ngSubmit)="save()">
          <div class="form-grid">
            <div class="form-group">
              <label>Name</label>
              <input type="text" [(ngModel)]="newHairstylist.name" name="name" required />
            </div>

            <div class="form-group">
              <label>Specialty</label>
              <input type="text" [(ngModel)]="newHairstylist.specialty" name="specialty" required />
            </div>

            <div class="form-group">
              <label>Experience (year)</label>
              <input type="number" [(ngModel)]="newHairstylist.experience" name="experience" required />
            </div>

            <div class="form-group">
              <label>Image</label>
              <input type="file" (change)="onFileSelected($event)" class="file-input" />
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="cancel-button" (click)="closeModal()">Cancel</button>
            <button type="submit" class="save-button">
              {{ selectedHairstylist ? 'Update' : 'Add New' }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
